# 谈谈Rust和OOP

## 阿喀琉斯之踵：继承

绝大多数高级编程语言都支持OOP面向对象编程的设计范式（封装、多态、继承），C++就是其中的先行者和佼佼者，逐渐衍生了接口、泛型和容器注入、设计模式等丰富的OOP设计思想和设计工具。但实际上在封装、多态和继承三者中，以类继承的副作用最为突出。即便抛开多重继承菱形依赖造成的复杂性和歧义问题，单纯的单根继承就已经有很多不容忽视的副作用。因为类继承本质上是一种白盒复用，父类和子类之间实际上保持了强耦合。程序员如果在设计中过度使用继承，会导致子类需要把很多实现细节暴露给父类，最终导致封装性被破坏。除非有一个世所公认的非常高水平的抽象把父类定义得近乎完美，否则任何对父类实现的修改，都可能会要求我们的子类随之调整。因此，在任何用于生产实践中的代码里，我默认非常不支持基于类继承的实现和设计方案，建议优先考虑接口继承、组合和委托来代替类继承。

## Rust的特性

Rust通过派生特性和特性默认实现等方式，支持了特性实现代码的复用、接口继承和特性组合。

